`F3 + L` 혹은 `/perf` 명령어는 [[:snapshot: <span style="font-family:Minecraft-Event"/> Minecraft 1.17 Pre-1 (1.17 스냅샷)](https://www.minecraft.net/ko-kr/article/minecraft-1-17-pre-release-1)]에 `/debug report` 기능이 제거되고 그 역할을 대신해 새롭게 추가된 명령어입니다.

# 명령어
#### `/perf start`
10초 동안 성능 측정을 시작합니다.  
측정 시간 동안 별도의 랙이 발생합니다.

#### `/perf stop`
성능 측정을 먼저 종료합니다.

세계 전반의 청크와 엔티티 및 블록 엔티티, 함수 등 여러 정보가 추적됩니다.  
측정이 종료되면 `.minecraft/debug/profiling` 폴더에 결과가 출력되며, 파일의 이름은 `yyyy-MM-dd_HH.mm.ss-[세계 이름]-{게임 버전}.zip`입니다.

<br/>

# `.zip` 구조
결과가 `.zip` 파일로 제공되는 바람에 압축 해제를 시도해야 하지만,  
[[Report](https://misode.github.io/report/)] 해당 사이트를 이용하면 압축한 파일을 업로드 하면 여러 정보가 시각적으로 표시됩니다.

- 파일 첫 업로드
<img src="assets/img/docs/report/perf1.png" height="512"/>

- 화면을 profiling으로 전환
<img src="assets/img/docs/report/perf2.png" height="512"/>

- 나열된 여러 가지 정보(성능 저하가 심할수록 상단에 배치됩니다.)
<img src="assets/img/docs/report/perf3.png" height="512"/>

- 좌측 상단에 '☆ Name' 을 클릭해 표에 색을 입힐 수 있습니다.
(성능이 좋지 못할수록 붉은 계열로 표시됩니다, 그 반대는 푸른 계열로 표시됩니다)
<img src="assets/img/docs/report/perf4.png" height="512"/>
<img src="assets/img/docs/report/perf5.png" height="512"/>

- 명령 블록으로 실행한 명령어는 `tick/levels/차원/tick/tickPending/blockTicks/run/...`(으)로 분류됩니다.
<img src="assets/img/docs/report/perf6.png" height="512"/>

- 함수로 실행한 명령어는 `tick/commandFunctions/...`(으)로 분류됩니다.
<img src="assets/img/docs/report/perf7.png" height="512"/>

### 성능 분석
<img src="assets/img/docs/report/perf8.png" height="512"/>

형광색으로 칠해진 부분이 실행된 명령어입니다.
- 평균 시간(`Avg Time`): 명령어 실행 시간 및 지연 시간의 평균
- 실행 개수(`Count Avg`): 측정 시간동안 실행된 수

평균 시간이 증가하면 실행 개수는 줄어듭니다.  
주로 평균 시간으로 성능 저하 정도를 확인합니다.

### 이외의 정보
- 게임 설정 및 클라이언트 설정 정보
<img src="assets/img/docs/report/perf9.png" height="512"/>

- 청크와 엔티티 및 블록 엔티티, 차원 정보
<img src="assets/img/docs/report/perf10.png" height="512"/>
<img src="assets/img/docs/report/perf11.png" height="512"/>
<img src="assets/img/docs/report/perf12.png" height="512"/>